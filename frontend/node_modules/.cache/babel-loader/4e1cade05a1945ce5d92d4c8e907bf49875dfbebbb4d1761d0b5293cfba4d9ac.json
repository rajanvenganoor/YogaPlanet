{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import PoseSelector from\"./PoseSelector\";import PoseImage from\"./PoseImage\";import\"./PoseImage.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE=\"http://127.0.0.1:8000/api\";function Poses(){const[categories,setCategories]=useState([]);const[poses,setPoses]=useState([]);const[selectedCategory,setSelectedCategory]=useState(\"\");const[selectedPose,setSelectedPose]=useState(null);// Load categories\nuseEffect(()=>{axios.get(\"\".concat(API_BASE,\"/categories/\")).then(res=>{const data=Array.isArray(res.data)?res.data:res.data.results;setCategories(data||[]);}).catch(err=>console.error(err));},[]);// Load poses for selected category\nuseEffect(()=>{if(!selectedCategory){setPoses([]);setSelectedPose(null);return;}axios.get(\"\".concat(API_BASE,\"/poses/?category=\").concat(selectedCategory)).then(res=>{const data=Array.isArray(res.data)?res.data:res.data.results;setPoses(data||[]);setSelectedPose(null);}).catch(err=>console.error(err));},[selectedCategory]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Category\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"combo-50\",value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Category --\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat.id,children:cat.name},cat.id))]}),poses.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"20px\"},children:\"Select Pose\"}),/*#__PURE__*/_jsx(\"div\",{className:\"combo-50\",children:/*#__PURE__*/_jsx(PoseSelector,{poses:poses,onPoseSelect:setSelectedPose})})]}),selectedPose&&/*#__PURE__*/_jsx(\"div\",{className:\"pose-container\",style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"pose-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedPose.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"pose-content\",children:[/*#__PURE__*/_jsx(PoseImage,{src:selectedPose.image_url,alt:selectedPose.name,width:\"280px\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pose-text\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"br\",{}),selectedPose.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Benefits:\"}),/*#__PURE__*/_jsx(\"br\",{}),selectedPose.benefits]})]})]})]})})]});}export default Poses;","map":{"version":3,"names":["React","useEffect","useState","axios","PoseSelector","PoseImage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE","Poses","categories","setCategories","poses","setPoses","selectedCategory","setSelectedCategory","selectedPose","setSelectedPose","get","concat","then","res","data","Array","isArray","results","catch","err","console","error","children","className","value","onChange","e","target","map","cat","id","name","length","style","marginTop","onPoseSelect","src","image_url","alt","width","description","benefits"],"sources":["C:/Users/Admin/VSCode/YogaPlanet/frontend/src/components/Poses.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport PoseSelector from \"./PoseSelector\";\nimport PoseImage from \"./PoseImage\";\nimport \"./PoseImage.css\";\n\nconst API_BASE = \"http://127.0.0.1:8000/api\";\n\nfunction Poses() {\n  const [categories, setCategories] = useState([]);\n  const [poses, setPoses] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedPose, setSelectedPose] = useState(null);\n\n  // Load categories\n  useEffect(() => {\n    axios\n      .get(`${API_BASE}/categories/`)\n      .then((res) => {\n        const data = Array.isArray(res.data) ? res.data : res.data.results;\n        setCategories(data || []);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  // Load poses for selected category\n  useEffect(() => {\n    if (!selectedCategory) {\n      setPoses([]);\n      setSelectedPose(null);\n      return;\n    }\n\n    axios\n      .get(`${API_BASE}/poses/?category=${selectedCategory}`)\n      .then((res) => {\n        const data = Array.isArray(res.data) ? res.data : res.data.results;\n        setPoses(data || []);\n        setSelectedPose(null);\n      })\n      .catch((err) => console.error(err));\n  }, [selectedCategory]);\n\n  return (\n    <div>\n      <h2>Select Category</h2>\n\n      {/* ✅ Category combobox with 50-character width */}\n      <select\n        className=\"combo-50\"\n        value={selectedCategory}\n        onChange={(e) => setSelectedCategory(e.target.value)}\n      >\n        <option value=\"\">-- Select Category --</option>\n        {categories.map((cat) => (\n          <option key={cat.id} value={cat.id}>\n            {cat.name}\n          </option>\n        ))}\n      </select>\n\n      {/* ✅ Pose searchable combobox with 50-character width */}\n      {poses.length > 0 && (\n        <>\n          <h4 style={{ marginTop: \"20px\" }}>Select Pose</h4>\n\n          <div className=\"combo-50\">\n            <PoseSelector\n              poses={poses}\n              onPoseSelect={setSelectedPose}\n            />\n          </div>\n        </>\n      )}\n\n      {selectedPose && (\n        <div className=\"pose-container\" style={{ marginTop: \"20px\" }}>\n          <div className=\"pose-card\">\n            <h3>{selectedPose.name}</h3>\n\n            <div className=\"pose-content\">\n              <PoseImage\n                src={selectedPose.image_url}\n                alt={selectedPose.name}\n                width=\"280px\"\n              />\n\n              <div className=\"pose-text\">\n                <p>\n                  <strong>Description:</strong><br />\n                  {selectedPose.description}\n                </p>\n\n                <p>\n                  <strong>Benefits:</strong><br />\n                  {selectedPose.benefits}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Poses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}